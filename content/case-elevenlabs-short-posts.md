# Короткие посты: Кейс ElevenLabs Proxy

---

## Для предпринимателей

**Воскресенье. Сообщение от клиента: "Ничего не работает"**

Голосовой AI-помощник на сайте клиента из недвижимости перестал работать. Просто так. Без причины.

С VPN — работает. Без — нет.

Оказалось — ElevenLabs (американский сервис) начал блокировать Беларусь. Санкции. Без предупреждения.

Пока разбирались — каждый час сайт терял заявки.

**Что сделали:** За 70 минут подняли прокси-сервер в US. Виджет снова работает.

**Что это стоило:** +$7/месяц к инфраструктуре.

**Что это значит для вас:**

Если используете западные SaaS (OpenAI, ElevenLabs, Stripe, любые другие) — они могут отключить вас в любой момент. Юридически обязаны.

Это не вопрос "если". Это вопрос "когда".

План Б должен быть до того, как он понадобится.

---

*Строю AI-решения для бизнеса. Делюсь кейсами — и удачными, и не очень. Подписывайтесь, если интересно наблюдать за процессом.*

---

## Для разработчиков

**Почему VPN помогает, а серверный прокси — нет?**

Интересная задачка на выходных.

Голосовой виджет (ElevenLabs) перестал работать у клиента из BY. С VPN — ок, без — падает.

Первая мысль: "Но у меня же сервер в US, API-запросы идут через него..."

А вот и нет.

**Проблема:**
```
API запрос: Браузер → Vercel (US) → ElevenLabs ✓
WebSocket:  Браузер → ElevenLabs напрямую ✗
```

`signed_url` возвращает `wss://api.elevenlabs.io/...` — и браузер открывает его сам. ElevenLabs видит IP клиента → блок.

**Решение:**

WebSocket прокси на Render (US). ~60 строк на Node.js.

Но был нюанс — ElevenLabs шлёт и JSON, и бинарные аудио-данные. Если не передать флаг `isBinary`:

```
JSON.parse("[object Blob]") → SyntaxError
```

Классика.

**Итог:** 70 минут, $7/мес, работает.

Код открытый, если кому надо — спрашивайте.

---

*Пишу про AI-интеграции, неочевидные баги и как их чинить. Если тоже строите что-то на ElevenLabs/OpenAI — подписывайтесь, будет полезно.*

---

## Универсальный короткий (для обоих)

**70 минут на спасение AI-виджета**

Воскресенье. Клиент пишет: "Голосовой помощник не работает".

Диагноз: ElevenLabs начал блокировать BY по санкциям.

Решение: WebSocket прокси через US-сервер.

Результат: Работает. +$7/мес.

Урок: Западные SaaS могут отключить без предупреждения. План Б нужен заранее.

---

*Строю AI-продукты, делюсь реальными кейсами. Подписывайтесь — тут без воды.*
